<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2018 OpenSynergy Indonesia
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl-3.0) -->
<openerp>
    <data noupdate="1">

        <!-- Leave Request -->
        <record id="ir_rule_batch_leave_request_user"
                model="ir.rule">
            <field name="model_id" ref="hr_holiday_batch.model_hr_holiday_batch_leave_request"/>
            <field name="domain_force">[
                ('user_id.id','=',user.id),
                ]</field>
            <field name="name">Leave Request Rule for User</field>
            <field name="groups" eval="[(6, 0, [ref('group_leave_request_user')])]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="ir_rule_batch_leave_request_department"
                model="ir.rule">
            <field name="model_id" ref="hr_holiday_batch.model_hr_holiday_batch_leave_request"/>
            <field name="domain_force">[
                ('department_id.manager_id.id','child_of',user.employee_ids[0].id),
                ]</field>
            <field name="name">Leave Request Rule for Department</field>
            <field name="groups" eval="[(6, 0, [ref('group_leave_request_department')])]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="ir_rule_batch_leave_request_company"
                model="ir.rule">
            <field name="model_id" ref="hr_holiday_batch.model_hr_holiday_batch_leave_request"/>
            <field name="domain_force">[
                ('company_id.id','child_of',user.company_id.id),
                ]</field>
            <field name="name">Leave Request Rule for Company</field>
            <field name="groups" eval="[(6, 0, [ref('group_leave_request_company')])]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <!-- Allocation Request -->
        <record id="ir_rule_batch_allocation_request_user"
                model="ir.rule">
            <field name="model_id" ref="hr_holiday_batch.model_hr_holiday_batch_allocation_request"/>
            <field name="domain_force">[
                ('user_id.id','=',user.id),
                ]</field>
            <field name="name">Leave Request Rule for User</field>
            <field name="groups" eval="[(6, 0, [ref('group_allocation_request_user')])]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="ir_rule_batch_allocation_request_department"
                model="ir.rule">
            <field name="model_id" ref="hr_holiday_batch.model_hr_holiday_batch_allocation_request"/>
            <field name="domain_force">[
                ('department_id.manager_id.id','child_of',user.employee_ids[0].id),
                ]</field>
            <field name="name">Leave Request Rule for Department</field>
            <field name="groups" eval="[(6, 0, [ref('group_allocation_request_department')])]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

        <record id="ir_rule_batch_allocation_request_company"
                model="ir.rule">
            <field name="model_id" ref="hr_holiday_batch.model_hr_holiday_batch_allocation_request"/>
            <field name="domain_force">[
                ('company_id.id','child_of',user.company_id.id),
                ]</field>
            <field name="name">Leave Request Rule for Company</field>
            <field name="groups" eval="[(6, 0, [ref('group_allocation_request_company')])]"/>
            <field eval="1" name="perm_unlink"/>
            <field eval="1" name="perm_write"/>
            <field eval="1" name="perm_read"/>
            <field eval="1" name="perm_create"/>
        </record>

    </data>
</openerp>
